<!--
  Generated template for the Edit page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header class="mainhdr">
  <ion-navbar>
    <ion-title >  <ion-icon (click)="toggleSearch()" id="mSrch" class="icons"  name="search"></ion-icon>
      <ion-icon id="mTrash" (click)="dltList()" class="icons" name="trash">({{count}})</ion-icon><span class="ttl"> עריכת משתמש  </span></ion-title>  
  </ion-navbar>
 <div  *ngIf="isSearchShown()"  class="srchM">
 <ion-item no-line class="srchM"  >
     <ion-label> <div class="chkbx">  בחר סוג חיפוש והתחל להקליד
  <ion-icon  name="search"></ion-icon></div></ion-label>      
   <ion-select  [(ngModel)]="chkVlue">    
     <div  class='optn' >
  <ion-option  value="fname" selected="true">שם </ion-option>
    <ion-option   value="gender" >מגדר</ion-option>
     <ion-option   value="auth" >הרשאה</ion-option>>
       <ion-option   value="email" >אימייל</ion-option>
       </div>
  </ion-select>
    </ion-item>

     <ion-icon (click)="helpBar()" id="hSrch" class="srchicn"  name="information-circle"></ion-icon> 
     <span class="in"> <input class="srchBar" type="text" [(ngModel)]="srchStr" /> </span><ion-icon (click)="toggleSearch()" id="hSrch" class="srchicn"  name="arrow-dropup-circle"></ion-icon>     
         </div>

</ion-header>
<ion-content padding class="cont">
    <ion-item  *ngIf="isSearchShown()"  class="paddingclass">
</ion-item>
 <ion-list>
  <p *ngIf="submitAttempt" style="color: #ea6153;">Please fill out all details accurately.</p>
<form [formGroup]="slideOneForm" >
  <!-- <ion-item ng-repeat="user in usersL" *ngIf="startSearch(i)" class="usrlst">
  //<ion-item class="usrlst" *ngIf="startSearch(i)" >   <div *ngFor="let user of usersL;let i=index" > *ngIf="startSearch(i)"      <ion-item class="usrlst" *ngFor"let j=index" > -->
   <div class="loop"  *ngFor="let user of usersL;let i=index">
        <ion-item  class='usrlst'  *ngIf="startSearch(i)" >
    <div  class="roundedOne"> 
	<input  type="checkbox" id= "{{ user.email }}" name="cb" (click)="counter(i)"/>
    <label for= "{{ user.email }}"></label></div>

 <div>  <span (click)=" toggleGroup(i)" class="name"><ion-icon id="icn" name="person" class="icons"></ion-icon> שם </span>
   <input  class="ioedit" type="text" formControlName="fName" value=" {{ user.fname }} "/></div>    
      <div *ngIf="isGroupShown(i)"> <span class="woot"><ion-icon id="icn" class="icons" name="contact"></ion-icon> משפחה</span> 
          <input class="ioedit" type="text"  formControlName="lName" value="{{ user.lName }}"/></div>
       <div  *ngIf="isGroupShown(i)">  <span class="woot"> <ion-icon id="icn" class="icons" name="at"></ion-icon> איימיל</span> 
    <input class="ioedit" type="text" formControlName="email" value="{{user.email}}"></div>
      <!-- <div *ngIf="isGroupShown(i)"> <span class="woot"><ion-icon id="icn" class="icons" name="contact"></ion-icon> שם</span> 
          <input class="ioedit" type="text"  formControlName="lName" value="{{ user.lName }}"/></div>  -->
       <div *ngIf="isGroupShown(i)"> <span class="woot"> <ion-icon id="icn" class="icons" name="phone-portrait"></ion-icon> מס טלפון</span> 
         <input class="ioedit" type="text" formControlName="number"  value="{{ user.phoneN }} "/></div>
     <ion-item no-lines class='test' *ngIf="isGroupShown(i)">
      <ion-label  > <span class='slct'><ion-icon class="icons" id="icn" name="settings"></ion-icon>  הרשאה</span></ion-label> 
        <ion-select  [(ngModel)]="user.auth" formControlName="authen" placeholder="{{ user.auth }}"  > 
     <ion-option value="R" >רגיל</ion-option> 
    <ion-option  value="A">אדמין</ion-option>
     <ion-option   value="M">מנהל</ion-option>
      <ion-option  value="S">ספק</ion-option>
  </ion-select>
</ion-item>               
  <ion-item  class='test' *ngIf="isGroupShown(i)">
    <ion-label><span class='slct'><ion-icon id="icn" class="icons" name="female"></ion-icon>  מגדר  </span> </ion-label>
   <ion-select  [(ngModel)]="user.gender"  formControlName="gen" >      
  <ion-option id= "{{ user.uname }}"  value="f" selected="false"> נקבה </ion-option>
    <ion-option id= "{{ user.uname }}"  value="m" selected="false">זכר</ion-option>
  </ion-select>
         </ion-item>


 <div  *ngIf="isGroupShown(i)">
    <span class="trash" (click)="trash(i)" > <ion-icon class="icn"  name="trash"></ion-icon></span>
    <button   class="edituserbtn" (click)="resetP(user)">אפס סיסמה</button>
    <span class="trash" (click)="sync(user)"> <ion-icon class="icn"  name="sync"></ion-icon></span></div>
    


    </ion-item>

 </div>

  

   </form>
  </ion-list>
 
</ion-content>
